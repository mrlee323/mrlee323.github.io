---
layout: post
title: "TIL #87 final-project 팀원 코드 통일"
data: '2021-03-11'
category: [TIL]
---

오늘 멘토님한테 전체적인 코드리뷰를 듣는 시간이었다. 하지만 멘토님이 지금 우리팀의 코드는 각자 너무 자기스타일대로 코드를 작성해서 코드리뷰는 큰 의미가 없다고 했다. 파일명부터 파일에 위치 css를 작성하는 스타일 등 제각각 이라고 했다. 나름 처음에 정한다고 정하고 시작했는데 하다보니 각자의 스타일대로 코드를 작성했나 보다. 다들 팀 프로젝트가 처음이라 이게 맞나?란 의문을 가직채 작업하기 급급했던 것 같다. 중간중간 이게 조금 다른 것 같다 하면서 맞추려고 노력했는데 너무 방향이 달라져 맞추기 쉽제 않은 것도 있었다. 멘토님은 우리의 코드를 좀더 통일 시키는 게 우선이고 css는 컴포넌트 안에서 다루기 보다는 따로 관리 하는게 코드를 볼때 훨씬 직관적이라고 했다. 또 컴포넌트안에서 너무 많은 로직이 처리되므로 코드들을 기능에따라 분리하라고 하셨다. 이부분들을 수정하고 세세한 코드리뷰는 그이후에 하기로 했다. 다음주 월요일 다음 멘토링 시간이라 오늘 부터 주말까지 정리하는 시간을 가지기로 했다.

첫번째 우리가 도입한건 airbnb에 eslint다. 일단 대중적이고 아직우리가 eslint를 우리에게 맞게 하나하나 설정하는 건 무리란 생각에 도입해봤다. 처음 도입하고 오류 메시지가 120개가 떳다. 혹시나 오류를 다 못잡아서 사용하지 못할까 걱정에 우리는 sub-develop로 새로 branch를 만들어서 작업을 시작했다.생각보다 오류 들은 간단했다. 내가 작업한 코드에서는 삼항연산자를 중첩으로 사용한 부분과 classname에서 &&를 사용한 부분들이었다. pritter설정도 확인하면서 모두가 같은 조건인지 하나하나 확인하면서 맞췄다.

두번째 css 분리이다. 원래 우리는 styled jsx를 사용해서 컴포넌트안에서 css를 작성했다. 이 방법을 택한 이유는 js를 사용한 style 적용은 js가 실행되기 전까지 style이 적용되지 않는 것을 방지 하기 위한 선택이었다. 하지만 코드가 직관적이지 않아 css를 분리하여 styled-module을 사용하기로 했다. 

세번째 컴포넌트안에 기능을 분리를 위한 custom hook 만들기 컴포넌트안에는 최대한 한가지 기능을 할 수 있도록 정리하기로 했다. state를 관리하는 코드들은 custom hook으로 정리하는 방향으로 정했다.

이번주 주말까지 최대한 정리 해보기로 했다.