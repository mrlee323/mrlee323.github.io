---
layout: post
title: "TIL #60 hacker-news 미니프로젝트(3) dark-mode"
data: '2021-01-29'
category: [TIL]
---

어제 Header를 만들고 이제 각 페이지를 구현하려고 UI 코딩을 짜는데 색상을 하나하나 지정할때마다 darkMode구현할때 이걸다 고쳐야하나 하는 생각이들었다. 원래는 어느정도 구현하고 가능하면 drak-mode를 만들려고 했는데 그랬다가는 모든 코드를 고쳐야하는 불상사가 생길것같았다. 구현하면 좋은거고 안되서 시간을 버려도 어쩔수 없다 시도한것에 만족하자고 생각하고 시작했다. dark-mode를 구현하려고 이리저리 구글링해도 나와같이 redux로 state를 관리해서 하는 darkmode 예시가 없었다. 있었는데 어려워서 패스한건지 구글링을 하도 많이하니까 헷갈린다. 오늘 하나 찾은것은 context로 구현한 것이었다. redux와 context는 거의 비슷한 개념이니까 코드를 보고 이해된부분들은 redux로 코드를 짜봤다. context를 redux로 구현하려다 보니 헷갈리는 부분이 action 부분이었다. 개념은 비슷한데 redux로 적용하려고 생각하니 어디다가 어떻게 써야하는지가 고민이었다. 항상 이런고민이 들면 데이터가 어떻게 이동되는지 생각하면 훨씬 수훤하게 코딩이 되서 일단 내가 뿌리려는 theme에 대해서 이동경로를 생각봤다. 일단 action을 받으면 reducer가 받아서 theme 모드를 state변경해주고 여기서 initialState를 light로 정해준다. 이 reducer는 combineReducers에 넣어주고 이걸 store에서 뿌려서 사용한다. 이정도 생각하고 구조를 작성하니 어느정도 구현이 가능했고 좀더 theme을 편리하게 사용하려면 reudx에 store에서 뿌려주는 데이터를 useSelector해서 styled-component에서 제공하는 provider에 넘겨준다. 이렇게 하면 일일히 useSelector해서 사용하지 않아도 theme을 불러서 사용할수 있도록한다. reducer에서 사용할 theme에 대해서 정의해줄 theme 파일을 만들어 각 모드에 맞게 스타일을 지정한다. 이렇게 코드를 작성하고 실행해보는데 오류도 안뜨고 그렇다고 변하지도 않고 또 헛짓했나 하는 생각만들었다. 그래도 오류가 안뜨는건 어디선가 돌고있다는건데 적용이 안되는걸까 하고 어디서 멈췄나 생각에 코드를 돌아다니면서 console을 찍어봤는데 역시나 오타..가 있었다. 오타가를 수정하고 나니 딱하고 실행이 됬다. 너무 신기했다 반신반의로 시작해서 구현이 되서 원래 다 이렇게 공부하나 싶기도하고 신기했다.

구현은 했는데.. 역시나 시간이 너무나 흘러버렸다. 뭐든 어떻게든 되긴되는데 시간을 너무 써버려서 항상 시간이 모자르다. 일단 되서 좋은데 나머지는 다언제하나 고민이든다. 일단내일은 페이지 UI를 구현해봐야겠다.